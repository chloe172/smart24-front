<div *ngIf="typeActivite==='question'" class="row">
    <h4 class="center-align white-text" style="font-weight: bold;">{{question.intitule}}</h4>
    <progress-bar *ngIf="showProgressBar"></progress-bar>
    <div *ngFor="let proposition of propositions; index as i" class="col s12 m6">
        <app-response [index]="i" [proposition]="proposition" [etape]="service.etape"
            [onClickCallback]="onSelectionReponse" [estSelectionnee]="propositionSelectionnee === proposition"
            [etatReponse]="idBonneProposition === proposition.id ? 'bonne' : (propositionSelectionnee === proposition ? 'mauvaise' : 'neutre')">
        </app-response>
    </div>
</div>
<div *ngIf="typeActivite==='minijeu'">
    <div *ngIf="isPlayer()">
        <div *ngIf="codeMinijeu==='mot-de-passe-reseaux-sociaux'">
            <app-cyber-game (scoreEvent)="receiveScore($event)"></app-cyber-game>
        </div>
        <div *ngIf="codeMinijeu==='phishing'">
            <app-popup-cyber (scoreEvent)="receiveScore($event)"></app-popup-cyber>
        </div>
    </div>
    <div *ngIf="isHost()">
        <div class="row">
            <mat-card class="col s4 offset-s4 card-panel" style="margin-top: 20px; background-color: rgba(28, 35, 93, 0.5);;">
                <h4 class="center-align text-align white-text" style="font-weight: bold;">Minijeu en cours ... </h4>
            </mat-card>
            <h5 class="col s4 offset-s4 center-align text-align white-text" style="font-weight: bold;">Equipes qui ont terminé le mini-jeu :</h5>
            <h6 *ngIf="equipesFinMinijeu.length===0" class="col s4 offset-s4 center-align text-align white-text">Pas d'équipes</h6>
            <div class="col m4 s6" *ngFor="let equipe of equipesFinMinijeu">
                <mat-card class="card-panel"><mat-card-content class="black-text"  style="font-weight: bold;">{{equipe.nom}}</mat-card-content></mat-card>
            </div>
            <button mat-flat-button color="warn" style="max-width: 200px;" (click)="terminerMinijeu()">Terminer Minijeu</button>
        </div>
    </div>
</div>

<mat-card class="card-panel" *ngIf="service.explication !== ''" style="margin: 10px;">
    <div *ngIf="typeActivite!='explication_Mini_Jeu'">
        <h6 class="center-align">{{service.explication}}</h6>
    </div>
    <div *ngIf="typeActivite==='explication_Mini_Jeu'">
        <h6 class="center-align">Fin du mini jeu</h6>
    </div>
    <div class="options" style=" display: flex; justify-content: space-between;">
        <button mat-flat-button color="warn" (click)="mettreEnPause()">
            Sauvegarder
            <mat-icon fontIcon="save"></mat-icon>
        </button>
        <button mat-flat-button color="warn" (click)="activiteSuivante()">
            Suivant
            <mat-icon fontIcon="arrow_forward"></mat-icon>
        </button>
    </div>
</mat-card>

<mat-card class="card-panel" *ngIf="service.score !== ''" style="margin: 10px;">
    <h6 class="center-align black-text" style="font-weight: bold;">Score</h6>
    <hr style="border: 1px solid black; width: 200px">
    <h6 class="center-align black-text">{{service.score}} points</h6>
</mat-card>